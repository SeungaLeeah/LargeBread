{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"; // 액션함수를 위한 hooks 사용\n\nimport { pending, fulfilled, rejected } from '../Action';\nimport axios from 'axios';\nconst API_URL = {\n  ca: \"http://localhost:3001/ca/\",\n  m: \"http://localhost:3001/m/\",\n  cr: \"http://localhost:3001/cr/\",\n  s: \"http://localhost:3001/s/\",\n  ck: \"http://localhost:3001/ck/\",\n  b: \"http://localhost:3001/b/\",\n  e: \"http://localhost:3001/e/\",\n  addCart: \"http://localhost:3001/addCart/\"\n};\n/* 다중행 데이터 조회를 위한 비동기 함수 */\n\nexport const getList = createAsyncThunk('LargeBreadSlice/getList', async (payload, _ref) => {\n  let {\n    rejectValue\n  } = _ref;\n  let result = null;\n  const params = {};\n\n  if (payload !== null && payload !== void 0 && payload.name) {\n    params.name = payload.name;\n  }\n\n  try {\n    result = await axios.get(API_URL[payload.api ? payload.api : 'ca'], {\n      params: params\n    });\n  } catch (err) {\n    result = rejectValue(err.response);\n  }\n\n  return result;\n});\n/* 단일행 데이터 조회를 위한 비동기 함수 */\n\nexport const getItem = createAsyncThunk('LargeBreadSlice/ getItem', async (payload, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  let result = null;\n\n  try {\n    result = await axios.get(`${API_URL}${payload === null || payload === void 0 ? void 0 : payload.id}/`);\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n\n  return result;\n});\n/* 데이터 저장을 위한 비동기 함수 */\n\nexport const postItem = createAsyncThunk('LargeBreadSlice/postItem', async (payload, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n  let result = null;\n\n  try {\n    result = await axios.post(API_URL, {\n      name: payload.name,\n      image: payload.image,\n      price: payload.price\n    });\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n\n  return result;\n});\n/* 데이터 수정을 위한 비동기 함수 */\n\nexport const putItem = createAsyncThunk('LargeBreadSlice/putItem', async (payload, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n  let result = null;\n\n  try {\n    result = await axios.put(`${API_URL}${payload === null || payload === void 0 ? void 0 : payload.id}/`, {\n      name: payload.name,\n      image: payload.image,\n      price: payload.price\n    });\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n\n  return result;\n});\n/* 데이터 삭제를 위한 비동기 함수 */\n\nexport const deleteItem = createAsyncThunk('LargeBreadSlice/deleteItem', async (payload, _ref5) => {\n  let {\n    rejectWithValue\n  } = _ref5;\n  let result = null;\n\n  try {\n    result = await axios.delete(`${API_URL}${payload === null || payload === void 0 ? void 0 : payload.id}/`);\n  } catch (err) {\n    result = rejectWithValue(err.response);\n  }\n\n  return result;\n});\nconst LargeBreadSlice = createSlice({\n  name: 'LargeBreadSlice',\n  initialState: {\n    data: null,\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: {\n    /* 다중행 데이터 조회를 위한 액션 함수 */\n    [getList.pending]: pending,\n    [getList.fulfilled]: fulfilled,\n    [getList.rejected]: rejected,\n\n    /* 단일행 데이터 조회를 위한 액션 함수 */\n    [getList.pending]: pending,\n    [getList.fulfilled]: fulfilled,\n    [getList.rejected]: rejected,\n\n    /* 데이터 저장을 위한 액션 함수 */\n    [postItem.pending]: pending,\n    [postItem.fulfilled]: (state, _ref6) => {\n      let {\n        meta,\n        payload\n      } = _ref6;\n      let data = null;\n\n      if (Array.isArray(state.data)) {\n        data = [...state.data];\n        data.push(payload.data);\n      } else {\n        data = payload.data;\n      }\n\n      return {\n        data: data,\n        loading: false,\n        error: null\n      };\n    },\n    [postItem.rejected]: rejected,\n\n    /* 데이터 수정을 위한 액션 함수 */\n    [putItem.pending]: pending,\n    [putItem.fulfilled]: (state, _ref7) => {\n      let {\n        meta,\n        payload\n      } = _ref7;\n      let data = null;\n\n      if (Array.isArray(state.data)) {\n        data = [...state.data];\n        const index = data.findIndex(element => element.id === parseInt(meta.arg.id));\n\n        if (index !== undefined) {\n          data.splice(index, 1, payload.data);\n        }\n      } else {\n        data = payload.data;\n      }\n\n      return {\n        data: data,\n        loading: false,\n        error: null\n      };\n    },\n    [putItem.rejected]: rejected,\n\n    /* 데이터 삭제를 위한 액션 함수 */\n    [deleteItem.pending]: pending,\n    [deleteItem.fulfilled]: (state, _ref8) => {\n      let {\n        meta,\n        payload\n      } = _ref8;\n      let data = null;\n\n      if (Array.isArray(state.data)) {\n        data = [...state.data];\n        const index = data.findIndex(element => element.id === parseInt(meta.arg.id));\n        console.log('index=' + index);\n\n        if (index !== undefined) {\n          data.splice(index, 1);\n        }\n      }\n\n      return {\n        data: data,\n        loading: false,\n        error: null\n      };\n    },\n    [deleteItem.rejected]: rejected\n  }\n});\nexport default LargeBreadSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","pending","fulfilled","rejected","axios","API_URL","ca","m","cr","s","ck","b","e","addCart","getList","payload","rejectValue","result","params","name","get","api","err","response","getItem","rejectWithValue","id","postItem","post","image","price","putItem","put","deleteItem","delete","LargeBreadSlice","initialState","data","loading","error","reducers","extraReducers","state","meta","Array","isArray","push","index","findIndex","element","parseInt","arg","undefined","splice","console","log","reducer"],"sources":["C:/Users/leeah/LargeBread/src/slices/LargeBreadSlice.jsx"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\"\r\n// 액션함수를 위한 hooks 사용\r\nimport {pending, fulfilled, rejected} from '../Action';\r\nimport axios from 'axios';\r\n\r\nconst API_URL ={\r\n  ca:\"http://localhost:3001/ca/\",\r\n  m: \"http://localhost:3001/m/\",\r\n  cr: \"http://localhost:3001/cr/\",\r\n  s: \"http://localhost:3001/s/\",\r\n  ck: \"http://localhost:3001/ck/\",\r\n  b: \"http://localhost:3001/b/\",\r\n  e: \"http://localhost:3001/e/\",\r\n  addCart: \"http://localhost:3001/addCart/\"\r\n};\r\n\r\n/* 다중행 데이터 조회를 위한 비동기 함수 */\r\nexport const getList = createAsyncThunk('LargeBreadSlice/getList', async(payload,{rejectValue})=>{\r\n  let result = null;\r\n  \r\n  const params = {};\r\n  if (payload?.name){\r\n    params.name = payload.name\r\n  }\r\n\r\n  try {\r\n    result = await axios.get(API_URL[payload.api ? payload.api : 'ca'],{\r\n      params:params\r\n    });\r\n  }catch(err){\r\n    result = rejectValue(err.response);\r\n  }\r\n  return result;\r\n});\r\n\r\n/* 단일행 데이터 조회를 위한 비동기 함수 */\r\nexport const getItem  = createAsyncThunk('LargeBreadSlice/ getItem', async(payload, {rejectWithValue})=>{\r\n  let result = null;\r\n\r\n  try{\r\n    result= await axios.get(`${API_URL}${payload?.id}/`);\r\n  }catch(err){\r\n    result = rejectWithValue(err.response);\r\n  }\r\n  return result;\r\n});\r\n\r\n/* 데이터 저장을 위한 비동기 함수 */\r\nexport const postItem = createAsyncThunk('LargeBreadSlice/postItem', async(payload, { rejectWithValue})=>{\r\n  let result = null;\r\n  \r\n  try{\r\n    result = await axios.post(API_URL,{\r\n      name: payload.name,\r\n      image: payload.image,\r\n      price: payload.price\r\n    })\r\n  }catch(err){\r\n    result = rejectWithValue(err.response);\r\n  }\r\n  return result;\r\n});\r\n\r\n/* 데이터 수정을 위한 비동기 함수 */\r\nexport const putItem = createAsyncThunk('LargeBreadSlice/putItem', async(payload, { rejectWithValue})=>{\r\n  let result = null;\r\n  \r\n  try{\r\n    result = await axios.put(`${API_URL}${payload?.id}/`,{\r\n      name: payload.name,\r\n      image: payload.image,\r\n      price: payload.price\r\n    })\r\n  }catch(err){\r\n    result = rejectWithValue(err.response);\r\n  }\r\n  return result;\r\n});\r\n/* 데이터 삭제를 위한 비동기 함수 */\r\nexport const deleteItem = createAsyncThunk('LargeBreadSlice/deleteItem', async(payload, { rejectWithValue})=>{\r\n  let result = null;\r\n  \r\n  try{\r\n    result = await axios.delete(`${API_URL}${payload?.id}/`);\r\n  }catch(err){\r\n    result = rejectWithValue(err.response);\r\n  }\r\n  return result;\r\n});\r\n\r\nconst LargeBreadSlice = createSlice({\r\n  name: 'LargeBreadSlice',\r\n  initialState: {\r\n    data: null,       \r\n    loading: false, \r\n    error:null        \r\n  },\r\n  reducers: {},\r\n  extraReducers: { \r\n  /* 다중행 데이터 조회를 위한 액션 함수 */\r\n  [getList.pending]: pending,\r\n  [getList.fulfilled]: fulfilled,\r\n  [getList.rejected]: rejected,\r\n\r\n  /* 단일행 데이터 조회를 위한 액션 함수 */\r\n  [getList.pending]: pending,\r\n  [getList.fulfilled]: fulfilled,\r\n  [getList.rejected]: rejected,\r\n\r\n  /* 데이터 저장을 위한 액션 함수 */\r\n  [postItem.pending]: pending,\r\n  [postItem.fulfilled]: (state,{meta,payload})=>{\r\n    let data = null;\r\n\r\n    if(Array.isArray(state.data)){\r\n      data=[...state.data];\r\n      data.push(payload.data);\r\n    }else{\r\n      data=payload.data;\r\n    }\r\n    return{\r\n      data: data,\r\n      loading: false,\r\n      error: null\r\n    }\r\n  },\r\n  [postItem.rejected]: rejected,\r\n\r\n  /* 데이터 수정을 위한 액션 함수 */\r\n  [putItem.pending]: pending,\r\n  [putItem.fulfilled]: (state,{meta, payload})=>{\r\n    let data = null;\r\n\r\n    if(Array.isArray(state.data)){\r\n      data= [...state.data];\r\n\r\n      const index = data.findIndex(element => element.id === parseInt(meta.arg.id));\r\n\r\n      if(index !== undefined){\r\n        data.splice(index, 1, payload.data);\r\n      }\r\n    }else{\r\n      data = payload.data;\r\n    }\r\n    return{\r\n      data: data,\r\n      loading: false,\r\n      error: null\r\n    }\r\n  },\r\n  [putItem.rejected]: rejected,\r\n\r\n  /* 데이터 삭제를 위한 액션 함수 */\r\n  [deleteItem.pending]: pending,\r\n  [deleteItem.fulfilled]: (state,{meta,payload})=>{\r\n    let data = null;\r\n\r\n    if(Array.isArray(state.data)){\r\n      data = [...state.data];\r\n\r\n      const index = data.findIndex(element => element.id === parseInt(meta.arg.id));\r\n      console.log('index=' + index);\r\n\r\n      if(index !== undefined){\r\n        data.splice(index, 1);\r\n      }\r\n    }\r\n    return{\r\n      data: data,\r\n      loading:false,\r\n      error: null\r\n    }\r\n  },\r\n  [deleteItem.rejected]: rejected,\r\n\r\n  },\r\n});\r\n\r\nexport default LargeBreadSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}