{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leeah\\\\LargeBread\\\\src\\\\components\\\\PayButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useCallback } from 'react';\nimport styled from \"styled-components\";\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { cleanBasket } from '../slices/BasketSlice';\nimport { addCart } from '../slices/LargeBreadSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PayBtn = styled.form`\n    width: 90%;\n    margin: auto;\n    text-align: center;\n    height: 33.3%;\n    display: flex;\n    align-items: center;\n    .item-payBtn{\n        align-items: center;\n        background-color: #d9d8d8;\n        color: black;\n        width: 100%;\n        height: 90%;\n        border-radius: 5px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        \n        .submitBtn{\n          border: none;\n          font-size: 15px;\n          font-weight: 700;\n          background-color: inherit;\n          color: inherit;\n        }\n        &:hover{\n            background-color: #fec24a;\n            color: white;\n        }\n    }\n`;\n_c = PayBtn;\n\nconst PayButton = /*#__PURE__*/_s( /*#__PURE__*/memo(_c2 = _s(_ref => {\n  _s();\n\n  let {\n    id,\n    amount\n  } = _ref;\n  const PaySwal = withReactContent(Swal);\n  const navigate = useNavigate();\n  const basket = useSelector(state => state.basket);\n  console.log(basket);\n  const dispatch = useDispatch(); // Promise 방식을 사용한 다이얼로그\n\n  const onSubmit = useCallback(e => {\n    e.preventDefault();\n    let timerInterval;\n    PaySwal.fire({\n      title: '결제중 입니다.',\n      html: '잠시만 기다려주세요.',\n      timer: 2000,\n      timerProgressBar: true,\n      didOpen: () => {\n        Swal.showLoading();\n      },\n      willClose: () => {\n        clearInterval(timerInterval);\n      }\n    }).then(result => {\n      /* Read more about handling dismissals below */\n      if (result.dismiss === Swal.DismissReason.timer) {\n        basket.basketItems.map((v, i) => {\n          dispatch(addCart({\n            product_id: v.id,\n            amount: v.basketQuantity\n          }));\n          return true;\n        });\n        PaySwal.fire({\n          icon: 'success',\n          title: '결제가 완료되었습니다.'\n        });\n        dispatch(cleanBasket());\n        navigate('/');\n      }\n    });\n  }, [PaySwal, basket.basketItems, dispatch, navigate]);\n  return /*#__PURE__*/_jsxDEV(PayBtn, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: onSubmit,\n      className: \"item-payBtn\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"submitBtn\",\n        name: \"submit\",\n        value: \"\\uACB0\\uC81C\\uD558\\uAE30\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n}, \"sNrQMM4N21oPUHyDCa1cHbaapJw=\", false, function () {\n  return [useNavigate, useSelector, useDispatch];\n})), \"sNrQMM4N21oPUHyDCa1cHbaapJw=\", false, function () {\n  return [useNavigate, useSelector, useDispatch];\n});\n\n_c3 = PayButton;\nexport default PayButton;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PayBtn\");\n$RefreshReg$(_c2, \"PayButton$memo\");\n$RefreshReg$(_c3, \"PayButton\");","map":{"version":3,"names":["React","memo","useCallback","styled","useNavigate","useDispatch","useSelector","Swal","withReactContent","cleanBasket","addCart","PayBtn","form","PayButton","id","amount","PaySwal","navigate","basket","state","console","log","dispatch","onSubmit","e","preventDefault","timerInterval","fire","title","html","timer","timerProgressBar","didOpen","showLoading","willClose","clearInterval","then","result","dismiss","DismissReason","basketItems","map","v","i","product_id","basketQuantity","icon"],"sources":["C:/Users/leeah/LargeBread/src/components/PayButton.jsx"],"sourcesContent":["import React, { memo, useCallback } from 'react';\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport { cleanBasket } from '../slices/BasketSlice';\r\nimport {addCart} from '../slices/LargeBreadSlice';\r\n\r\nconst PayBtn = styled.form`\r\n    width: 90%;\r\n    margin: auto;\r\n    text-align: center;\r\n    height: 33.3%;\r\n    display: flex;\r\n    align-items: center;\r\n    .item-payBtn{\r\n        align-items: center;\r\n        background-color: #d9d8d8;\r\n        color: black;\r\n        width: 100%;\r\n        height: 90%;\r\n        border-radius: 5px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        cursor: pointer;\r\n        \r\n        .submitBtn{\r\n          border: none;\r\n          font-size: 15px;\r\n          font-weight: 700;\r\n          background-color: inherit;\r\n          color: inherit;\r\n        }\r\n        &:hover{\r\n            background-color: #fec24a;\r\n            color: white;\r\n        }\r\n    }\r\n`;\r\nconst PayButton = memo(({id, amount}) => {\r\n    const PaySwal = withReactContent(Swal);\r\n    const navigate = useNavigate();\r\n    const basket = useSelector((state) => state.basket);\r\n    console.log(basket);\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    // Promise 방식을 사용한 다이얼로그\r\n    const onSubmit = useCallback((e) => {\r\n        e.preventDefault();\r\n\r\n        let timerInterval\r\n\r\n        PaySwal.fire({\r\n            title: '결제중 입니다.',\r\n            html: '잠시만 기다려주세요.',\r\n            timer: 2000,\r\n            timerProgressBar: true,\r\n            didOpen: () => {\r\n              Swal.showLoading()\r\n          \r\n            },\r\n            willClose: () => {\r\n              clearInterval(timerInterval)\r\n            }\r\n          }).then((result) => {\r\n            /* Read more about handling dismissals below */\r\n            if (result.dismiss === Swal.DismissReason.timer) {\r\n              \r\n              basket.basketItems.map((v, i)=> {\r\n                dispatch(addCart({\r\n                  product_id: v.id,\r\n                  amount: v.basketQuantity\r\n                }))\r\n                return true;\r\n              });\r\n              \r\n              PaySwal.fire({\r\n                icon: 'success',\r\n                title:'결제가 완료되었습니다.'\r\n              });\r\n              dispatch(cleanBasket());\r\n              navigate('/');\r\n            }\r\n          })\r\n    }, [PaySwal, basket.basketItems, dispatch, navigate]);\r\n    return (\r\n        <PayBtn >\r\n          <div onClick={onSubmit} className='item-payBtn'>\r\n            <input className='submitBtn' name='submit' value=\"결제하기\" type=\"submit\"/>\r\n            </div>\r\n        </PayBtn>\r\n    );\r\n});\r\n\r\nexport default PayButton;"],"mappings":"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"},"metadata":{},"sourceType":"module"}